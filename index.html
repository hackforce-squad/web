<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Example</title>
<!--         <script>
window.fcSettings = {
  onInit: function() {
    window.fcWidget.on("widget:destroyed", function() {
      console.log('After widget destroyed');
      // Do some clean-up here 
    });
  }
}
</script> -->
<!--     <script src='//in.fw-cdn.com/30003745/2511.js'chat='true'></script>
 -->

<!-- 	Commenting out crm tracking code as its added in google tag manager
	
	<!-- Google tag (gtag.js) Google Analytics --> -->
<!-- Clarity script
 -->
<script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "qnili3q4xa");
</script>
	
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HRBMTTSQSN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HRBMTTSQSN');
</script>

	<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5LDSLK65');</script>
<!-- End Google Tag Manager -->
</head>
<body>

	<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5LDSLK65"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
	
    <h1>Registration Form</h1>
    <form>
        <label for="first_name">First Name:</label><br>
        <input type="text" id="first_name" required><br>
        
        <label for="last_name">Last Name:</label><br>
        <input type="text" id="last_name" required><br>
        
        <label for="email">Email:</label><br>
        <input type="email" id="email" name="email" required><br>
        
        <label for="mobile">Mobile:</label><br>
        <input type="tel" id="mobile" name="mobile" required><br>

                <label for="dob">Date of Birth:</label><br>
        <input type="date" id="dob" name="DOB" required><br>
        
        <label for="company_name">Company Name:</label><br>
        <input type="text" id="company_name" name="company_name" required><br><br>
        
<button><span class="l7_2fn wixui-button__label">Send</span></button>

        <div>
		<br><br><br><br>
Form 2 - Includes Identify Call
            
        </div>

        

    </form>


        <form id="form_2">
        <label for="first_name">First Name:</label><br>
        <input type="text" id="first_name_2" name="First name" required><br>
        
        <label for="last_name">Last Name:</label><br>
        <input type="text" id="last_name_2" name="Last name" required><br>
        
        <label for="email">Email:</label><br>
        <input type="email" id="email_2" name="Email" required><br>
        
        <label for="mobile">Mobile:</label><br>
        <input type="tel" id="mobile_2" name="Mobile" required><br>
        
        <label for="company_name">Company Name:</label><br>
        <input type="text" id="company_name_2" name="Company name" required><br><br>
        
<input type="submit" onclick="identify_call()">

    </form>
<script>
console.log(document.getElementById("first_name_2").value);
console.log(document.getElementById("last_name_2").value);
console.log(document.getElementById("email_2").value);
// console.log(document.getElementById("mobile_2").value);
console.log(document.getElementById("company_name_2").value);
</script>
	
<script>
    function identify_call() {
        var new_contact = {
            "First name": document.getElementById("first_name_2").value,
            "Last name": document.getElementById("last_name_2").value,
            "Email": document.getElementById("email_2").value,
            // "Mobile": document.getElementById("mobile_2").value,
            "User Agent":"testing123909",
            "company": {
                "Name": document.getElementById("company_name_2").value
            }
        };
        var identifier = document.getElementById("email_2").value; // Using email as identifier
        fwcrm.identify(identifier, new_contact);
        // You might need to handle the submission of the form here, e.g., redirecting to another page or displaying a success message
    }
</script>

	<img style="width:100, height:100" src="https://www.apple.com/v/home/takeover/o/images/overview/iphone-16-pro/iphone_16_pro_startframe__fjdwae8n0tua_large_2x.jpg"></img>

<!-- 	<script src='https://tadashicorp-team1.myfreshworks.com/crm/sales/web_forms/b61b9219f175012ced445e93c68a49050cae0f718740c1abc17665d78caf6fdd/form.js' crossorigin='anonymous' id='fs_b61b9219f175012ced445e93c68a49050cae0f718740c1abc17665d78caf6fdd'></script>
	 -->
<script src='https://tadashicorp-team1.myfreshworks.com/crm/sales/web_forms/b3176724a3c00f771cac82af813ef5c3e7dad2977a4b21b9e48f4e598d83a089/form.js' crossorigin='anonymous' id='fs_b3176724a3c00f771cac82af813ef5c3e7dad2977a4b21b9e48f4e598d83a089'></script><!-- 	<script>  
document.addEventListener("DOMContentLoaded", function () {

	// Cookie code
    const formSelector = "[id^='fs-webform-container_'] form"; // General selector for the form
    const maxRetries = 10; // Retry up to 10 times
    const retryInterval = 500; // Retry every 500ms

    let attempts = 0;

    function findForm() {
        const form = document.querySelector(formSelector);

        if (form) {
            console.log("Form found!");
            attachFormListener(form);
        } else if (attempts < maxRetries) {
            attempts++;
            setTimeout(findForm, retryInterval); // Retry finding the form
        } else {
            console.error("Form not found after multiple attempts. Please check the selector.");
        }
    }

    findForm();

    // Debounce function to delay execution
    function debounce(func, delay) {
        let timer;
        return function (...args) {
            clearTimeout(timer);
            timer = setTimeout(() => func.apply(this, args), delay);
        };
    }

    // Attach event listener to capture data
    function attachFormListener(form) {
        form.addEventListener("input", debounce(function (event) {
            const target = event.target;
            if (target.name) {
                const value = target.value;
                setCookie(target.name, value, 1); // Store in cookies for 1 day
            }
        }, 500)); // Debounce delay set to 500ms

        console.log("Form listener with debounce attached.");
    }

    // Set a cookie
    function setCookie(name, value, days) {
        const date = new Date();
        date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
        const expires = "expires=" + date.toUTCString();
        document.cookie = name + "=" + encodeURIComponent(value) + ";" + expires + ";path=/";
        console.log(`Cookie set: ${name}=${value}`);
    }
});

	</script> -->
<!-- // Mobile validation
<!-- 	<script> -->
<!-- 
document.addEventListener('DOMContentLoaded', function () {
  console.log("Script initialized, waiting for the mobile field...");
  // Function to validate the mobile number
  function validateMobileNumber(mobileField, submitButton) {
    const ukMobileRegex = /^(\+44|0)7\d{9}$/;
    // Check the validity on input
    mobileField.addEventListener('input', function () {
      const mobileNumber = mobileField.value.trim();
      if (!ukMobileRegex.test(mobileNumber)) {
        mobileField.setCustomValidity('Please enter a valid UK mobile number.');
        submitButton.disabled = true; // Disable the submit button
        console.log("Invalid mobile number entered:", mobileNumber);
      } else {
        mobileField.setCustomValidity(''); // Clear the error
        submitButton.disabled = false; // Enable the submit button
        console.log("Valid mobile number:", mobileNumber);
      }
      mobileField.reportValidity(); // Show the validation message
    });
  }
  // Function to find the mobile field and attach validation
  function setupMobileFieldValidation() {
    const mobileField = document.querySelector('input[name="contact[mobile_number]"]');
    if (mobileField) {
      console.log("Mobile field found:", mobileField);
      const form = mobileField.closest('form');
      if (form) {
        const submitButton = form.querySelector('button[type="submit"], input[type="submit"]');
        if (submitButton) {
          validateMobileNumber(mobileField, submitButton);
          // Initial validation to disable the button if the field is empty
          if (!mobileField.value.trim()) {
            submitButton.disabled = true;
          }
          form.addEventListener('submit', function (event) {
            if (!mobileField.checkValidity()) {
              console.log("Form submission blocked due to invalid mobile number.");
              event.preventDefault(); // Block the form submission
            } else {
              console.log("Form submitted successfully.");
            }
          });
        }
      }
      return true;
    }
    return false;
  }
  // Use MutationObserver to detect changes in the DOM
  const observer = new MutationObserver(() => {
    if (setupMobileFieldValidation()) {
      observer.disconnect(); // Stop observing once the field is found
    }
  });
  // Start observing the DOM
  observer.observe(document.body, { childList: true, subtree: true });
  // Check if the field is already present when the script runs
  setupMobileFieldValidation();
});
 -->
<!-- 	</script> -->

<!-- //UTM Parameters in Classic webform -->

<!-- 	<script>
  var WebFormEvent = {
    beforeSubmit: function () {
      // Define mapping of localStorage keys to form field names
      const utmMapping = {
        "_fm_oc": "contact[first_campaign]",
        "_fm_om": "contact[first_medium]",
        "_fm_os": "contact[first_source]",
        "_fm_rc": "contact[latest_campaign]",
        "_fm_rm": "contact[latest_medium]",
        "_fm_rs": "contact[latest_source]"
      };

      // Function to get UTM values from localStorage
      function getLocalStorageValue(key) {
        return window.localStorage.getItem(key) || "";
      }

      // Append hidden fields dynamically
      for (const [storageKey, formFieldName] of Object.entries(utmMapping)) {
        const value = getLocalStorageValue(storageKey);
        if (value) {
          WebForm.$('<input>').attr({
            type: 'hidden',
            name: formFieldName,
            value: value
          }).appendTo('.fs-webform-container form');
        }
      }
    }
  };

	</script>-->

	    <style>
 .fs-webform-container .fserv-container button[type=submit].fserv-button-submit {
    color: red;
    background-color: blue !important;
}

	.fs-webform-container .powered-by {

    display: none !important;
}

		    .fs-webform-container .fserv-container .select2-dropdown, .fs-webform-container .fserv-container .select2-selection {
			color: #000000 !important;
    			font-size: small !important;
		    }

/* 		    .fs-country-phone::part(fw-select-input-container) {
    display: none !important;
} */
/* .fs-country-phone::part(country-select-container) {
    margin-inline-end: 0 !important;
	display: none 
} */

/* 		    		    .fs-country-phone::part(fw-select-input-container) {
    display: none !important;
}

.fs-webform-container .fserv-container .fserv-label, .fs-webform-container .fserv-container button {
  margin-left:10px !important;
}


.fs-webform-container .fserv-input-text{
  margin-left:10px !important;
}
.fs-webform-container .fserv-container .fserv-field .select2-container .select2-selection--single, .fs-webform-container .fserv-container .select2-selection{
    margin-left:10px !important;
}
.fs-webform-container .fserv-container .fserv-input-checkbox{
      margin-left:10px !important;
} */

    </style>

<!-- <script>
setTimeout(() => {
    const formElement = document.querySelector(".fs-country-phone");

    if (formElement?.shadowRoot) {
        const style = document.createElement("style");
        style.textContent = `
            .country-container {
                display: block !important; /* Change flex to block */
                justify-content: start !important;
            }

            .country-container .country-select-container {
                display: none !important; /* Hide country selector */
                flex: none !important; /* Prevent space reservation */
                width: 0 !important;
                margin: 0 !important;
                padding: 0 !important;
            }
        `;
        formElement.shadowRoot.appendChild(style);
        console.log("Extra space removed.");
    }
}, 2000);
</script>	 -->

<!-- Styling for shadow box like file upload
 -->
<script>
  var WebFormEvent = {
    beforeSubmit: function () {
	// Select the shadow host
// const shadowHost = document.querySelector('fw-file-uploader-2');

// // Access the shadow root
// const shadowRoot = shadowHost.shadowRoot;

// // Create a style element
// const style = document.createElement('style');
// style.textContent = `
//   .file-uploader__body {
//     background-color: blue !important; /* Add your desired styles */

//   }
// `;

// // Append the style element to the shadow root
// shadowRoot.appendChild(style);

// Today's date in Classic webform as hidden field
	WebForm.$('<input>').attr({
        type: 'hidden',
        name: 'contact[custom_field][cf_appnt_date]',
        value: new Date().toISOString().split('T')[0]
      }).appendTo('.fs-webform-container form');
    }
  }
</script>

<!-- Values from Cookies or URL
	 -->

<!-- 	<script>
  var WebFormEvent = {
    beforeSubmit: function () {
      
      function getUTMParam(paramName) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(paramName) || "";
      }

      // Appending hidden input fields to the form
      WebForm.$('<input>').attr({
        type: 'hidden',
        name: 'contact[custom_field][cf_lead_source]',
        value: window.localStorage.getItem("_fm_ls") || getUTMParam('utm_source') || ''
      }).appendTo('.fs-webform-container form');

      WebForm.$('<input>').attr({
        type: 'hidden',
        name: 'contact[custom_field][cf_lead_medium]',
        value: window.localStorage.getItem("_fm_lm") || getUTMParam('utm_medium') || ''
      }).appendTo('.fs-webform-container form');

      WebForm.$('<input>').attr({
        type: 'hidden',
        name: 'contact[custom_field][cf_lead_campaign]',
        value: window.localStorage.getItem("_fm_lc") || getUTMParam('utm_campaign') || ''
      }).appendTo('.fs-webform-container form');

      WebForm.$('<input>').attr({
        type: 'hidden',
        name: 'contact[custom_field][cf_google_click_id]',
        value: window.localStorage.getItem("_fm_gcid") || getUTMParam('gclid') || ''
      }).appendTo('.fs-webform-container form');

      WebForm.$('<input>').attr({
        type: 'hidden',
        name: 'contact[custom_field][cf_facebook_click_id]',
        value: window.localStorage.getItem("_fm_fbclid") || ''
      }).appendTo('.fs-webform-container form');

      WebForm.$('<input>').attr({
        type: 'hidden',
        name: 'contact[custom_field][cf_ga_client_id]',
        value: window.localStorage.getItem("_fm_gaid") || ''
      }).appendTo('.fs-webform-container form');
    }
  };
</script> -->

<!-- <script>
	document.addEventListener("DOMContentLoaded", function () {
    const formSelector = "[id^='fs-webform-container_'] form"; // General selector for the form
    const maxRetries = 10; // Retry up to 10 times
    const retryInterval = 500; // Retry every 500ms
    let attempts = 0;

    function findForm() {
        const form = document.querySelector(formSelector);

        if (form) {
            console.log("Form found!");
            addFormId(form);
        } else if (attempts < maxRetries) {
            attempts++;
            setTimeout(findForm, retryInterval); // Retry finding the form
        } else {
            console.error("Form not found after multiple attempts. Please check the selector.");
        }
    }

    function addFormId(form) {
        if (!form.id) {
            form.id = "detected-webform";
            console.log("Form ID added:", form.id);
        }
    }

    findForm();
});


</script> -->


<script>
	document.addEventListener('DOMContentLoaded', () => {
  // Define the target element using its part attribute
  const targetSelector = '.fs-webform-container .fserv-container .fs-country-phone::part(fw-select-input-container)';
	console.log(targetSelector);
  // Function to hide the element
  const hideElement = () => {
    const element = document.querySelector(targetSelector);
	  console.log(element);
    if (element) {
      element.style.display = 'none';
	    console.log("Changes applied");
    }
  };

  // Initial attempt to hide the element
  hideElement();

  // Set up a MutationObserver to monitor changes to the DOM
  const observer = new MutationObserver((mutationsList) => {
    mutationsList.forEach((mutation) => {
      if (mutation.type === 'childList' || mutation.type === 'attributes') {
        // Re-hide the element if it reappears or is modified
        hideElement();
      }
    });
  });

  // Start observing the document body for changes
  observer.observe(document.body, {
    childList: true, // Observe additions/removals of child elements
    subtree: true, // Observe all descendants
    attributes: true, // Observe attribute changes
  });
});
</script>



	
</body>
</html>
